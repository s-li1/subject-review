[{"C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Pages\\FirstPage.jsx":"1","C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\SideBar\\SideBar.jsx":"2","C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\reportWebVitals.js":"3","C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\StarRating\\Star\\Star.jsx":"4","C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\SideBar\\SideBarData.js":"5","C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Pages\\Review.jsx":"6","C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\Posts\\Post\\Post.jsx":"7","C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\StarRating\\StarRating.jsx":"8","C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\Posts\\AddPost.jsx":"9"},{"size":923,"mtime":1610493779834,"results":"10","hashOfConfig":"11"},{"size":1150,"mtime":1610493916763,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"11"},{"size":330,"mtime":1610493636130,"results":"14","hashOfConfig":"11"},{"size":714,"mtime":1610494000516,"results":"15","hashOfConfig":"11"},{"size":2921,"mtime":1610494036044,"results":"16","hashOfConfig":"11"},{"size":636,"mtime":1610494109508,"results":"17","hashOfConfig":"11"},{"size":446,"mtime":1610493636133,"results":"18","hashOfConfig":"11"},{"size":2415,"mtime":1610494140384,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"rkjyrb",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Pages\\FirstPage.jsx",[],"C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\SideBar\\SideBar.jsx",[],"C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\reportWebVitals.js",[],"C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\StarRating\\Star\\Star.jsx",[],"C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\SideBar\\SideBarData.js",[],"C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Pages\\Review.jsx",["39"],"import React, { useState, useEffect } from 'react'\r\nimport Posts from '../Components/Posts/Posts';\r\nimport { firestore } from '../Config/Firebase/db_config';\r\nimport { collectionofIdsAndDocs } from '../utilities';\r\nimport Main from '../Components/MainView/MainView';\r\nimport Modal from '../Components/Modal/Modal';\r\nimport { Redirect } from 'react-router-dom';\r\nexport default function Review({match}) {\r\n\r\nconst getCourseName = match.path.replace(\"/:subjectId\", \"\").replace(\"/\", \"\");\r\nconst [posts, setPosts] = useState([\r\n    {\r\n    id: 1,\r\n    username: \"Steven\",\r\n    review: \"I think this subject has a lot of good qualities. The teacher is pretty good too. As long as you study hard, you will do fine. Make sure you choose a good group for assignment 2 if you want that HD.\",\r\n    rating:\"5\"\r\n    },\r\n    {\r\n    id: 2,\r\n    username: \"Emily\",\r\n    review: \"This is my comment\",\r\n    rating: \"3\"\r\n    }\r\n]);\r\n\r\nlet allSubjects = require(`../Data/${getCourseName}.json`);\r\n// useEffect(()=> {\r\n//     const unsubscribe = firestore.collection(`${match.params.subjectId}`).orderBy(\"date\", \"desc\").onSnapshot( snapshot => {\r\n//     const posts = snapshot.docs.map(collectionofIdsAndDocs);\r\n//     console.log(posts);\r\n//     setPosts (posts);\r\n//   });\r\n//     return unsubscribe;\r\n// }, []);\r\n\r\nconst handleCreate = async (post) => {\r\n    post.date = new Date();\r\n    const documentRef = await firestore.collection(`${match.params.subjectId}`).add(post);\r\n    \r\n    const document = await documentRef.get();\r\n\r\n    const newPost = collectionofIdsAndDocs(document);\r\n\r\n    setPosts([newPost, ...posts])\r\n    \r\n};\r\n\r\nconst [modal, setModalOpen] = useState(false);\r\n\r\nconst openModalHandler = ()=> {\r\n    setModalOpen(true);\r\n}\r\n\r\nconst closeModalHandler = ()=> {\r\n    setModalOpen(!modal);\r\n}\r\n\r\n\r\n\r\nconst subject = allSubjects.find((subject)=> subject.id===match.params.subjectId);\r\nif(!subject) {\r\n    return <Redirect to='/not-found'/>\r\n}\r\n    return (\r\n        <Main>\r\n            <div className=\"review-container\">\r\n                <div className=\"details-section\">\r\n                    <h1>\r\n                        <span>{subject.id}</span>\r\n                        <br/>\r\n                        {subject.name}\r\n                    </h1>\r\n                    <p>{subject.description}</p>\r\n                </div>\r\n                <div className=\"header-guidelines-container\">\r\n                <h1>Recent Reviews</h1>\r\n                <button className=\"modal-opener\" onClick={openModalHandler}>Read our guidelines</button>\r\n                </div>\r\n                <Modal show={modal} close={closeModalHandler}/>\r\n                <div className={ modal ? \"overlay active\" : \"overlay\"}></div>\r\n                <div className=\"review-section\">\r\n                    <Posts posts = {posts} onCreate={handleCreate}/>\r\n                    \r\n                </div>\r\n            </div>\r\n        </Main>\r\n       \r\n    )\r\n}\r\n","C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\Posts\\Post\\Post.jsx",[],"C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\StarRating\\StarRating.jsx",[],"C:\\Users\\steve\\Desktop\\UTS-Subjects\\subject-review\\src\\Components\\Posts\\AddPost.jsx",[],{"ruleId":"40","severity":1,"message":"41","line":34,"column":4,"nodeType":"42","endLine":34,"endColumn":6,"suggestions":"43"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'match.params.subjectId'. Either include it or remove the dependency array.","ArrayExpression",["44"],{"desc":"45","fix":"46"},"Update the dependencies array to be: [match.params.subjectId]",{"range":"47","text":"48"},[1265,1267],"[match.params.subjectId]"]